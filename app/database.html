<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Dungeoneer: Database</title>
    <meta name="author" content="">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/style.css" rel="stylesheet">
    <link href="css/nouislider.css" rel="stylesheet">

    <link rel="stylesheet" href="awesomplete/awesomplete.css" />
    <link rel='stylesheet' href='mappingTool/spectrum.css' />
    <link rel='stylesheet' href='chosen/chosen.css' />
    <link href="css/popups.css" rel="stylesheet">
    <link href="css/database.css" rel="stylesheet">
    <link href="css/colors.css" rel="stylesheet">

</head>

<body>
    <div class="title_bar">
        <div class="title_bar_left">
            <button id="settings_window_button"></button>
            <button id="about_window_button">?</button>
            <button id="reload_button" title="Reload the window" onclick="location.reload()"></button>
                <button style="    width: 8em;" class = "button_style" id = "token_importer_window_button" title = "Mass import tokens">Import tokens</button>
        </div>

        <p class="text">The Owls are not what they seem</p>
        <button id="minimize_app_button"></button>
        <button id="min_max_button"></button>
        <button id="close_window_button"> </button>
    </div>
    <div class="main_content_wrapper">

        <header class="homebrew_header">
            <h1 class="mainheader">Homebrew</h1>

            <section class="tab_row">
                <button id="homebrew" class="button button_style tab"
                    title="Manage NPC's descriptions and notes. Add to combat database."
                    onclick="setTab('homebrew')">Homebrew monsters</button>
                <button id="monsters" class="button button_style tab"
                    title="Create monsters and add to the combat database" onclick="setTab('monsters')">Monster
                    Manual</button>
                <button id="encounters" class="button button_style tab" title="Create custom loadable encounters."
                    onclick="setTab('encounters')">Encounters</button>
                <button id="spells" class="button button_style tab" title="All spells."
                    onclick="setTab('spells')">Spells</button>
                <button id="items" class="button button_style tab" title="View and add items or equipment."
                    onclick="setTab('items')">Items</button>
                <button id="conditions" class="button button_style tab"
                    title="Edit the default conditions, e.g. prone, or add new ones as house rules."
                    onclick="setTab('conditions')">Conditions</button>
                <button id="tables" class="button button_style tab"
                    title="Edit or add SRD tables or create simple notes." onclick="setTab('tables')">Tables &
                    Notes</button>


            </section>

        </header>

        <main>
            <section class="flex_container">
                <div id="save_success" class="success_message popup_message center semi_hidden">
                    Save successful!
                </div>
            </section>

            <section class="flex_container">
                <div id="save_failed" class="failed_message popup_message center semi_hidden">
                    Save failed
                </div>
            </section>
            <div class="listRow hidden" id="listFrame__monsters_template">
                <div class="listRow__inner">
                    <input type="text" value="Name" readonly tabindex="-1">
                    <input type="text" value="CR" readonly tabindex="-1">
                    <input type="text" value="Type" readonly tabindex="-1">
                    <input type="text" value="HP" readonly tabindex="-1">
                </div>
                <div class=" button_row">
                    <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                    <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                    <button class="remove_button" onclick="removeParentHandler(this)"
                        title="Delete from database"></button>

                </div>
            </div>
            <section id="listFrame__monsters" class="listWrap hidden marginTop center_items">
                <button id="add_entry_button" class="button button_style traybutton" title="Add monsters"
                    onclick="newItem('tab')">+</button>
                <div></div>
                <div class="row center" style="justify-content: center;">
                    <div style="margin-left:1em;">
                        <select id="monsters_list_type_select" data-placeholder="Filter type" multiple></select>
                    </div>
                    <input type="text" class="listSearch " style="height: 25px; margin-left: 1em;"
                        id="monsters_list_search">
                    <div style="margin-left:1em;">
                        <select id="monsters_list_tag_select" data-placeholder="Filter tags" multiple></select>
                    </div>
                </div>
                <div class="listRow_header">
                    <div class="listRow__inner">
                        <input type="text" value="Name" readonly tabindex="-1">
                        <input type="text" value="CR" readonly tabindex="-1">
                        <input type="text" value="Type" readonly tabindex="-1">
                        <input type="text" value="HP" readonly tabindex="-1">
                    </div>
                    <div class=" button_row">
                        <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                        <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                        <button class="remove_button" onclick="removeParentHandler(this)"
                            title="Delete from database"></button>

                    </div>
                </div>


            </section>
            <div class="listRow hidden" id="listFrame__spells_template">
                <div class="listRow__inner">
                    <input type="text" value="Name" readonly tabindex="-1">
                    <input type="text" value="Cast time" readonly tabindex="-1">
                    <input type="text" value="School" readonly tabindex="-1">
                    <input type="text" value="Level" readonly tabindex="-1">
                </div>
                <div class=" button_row">
                    <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                    <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                    <button class="remove_button" onclick="removeParentHandler(this)"
                        title="Delete from database"></button>

                </div>
            </div>
            <section id="listFrame__spells" class="listWrap hidden marginTop center_items section__show">
                <button class="button button_style traybutton" title="Add homebrew spell"
                    onclick="newItem('tab')">+</button>
                <div></div>
                <div class="row center" style="justify-content: center;">
                    <input type="text" class="listSearch center" style="margin-right:1em;" id="spell_list_search">
                    <select id="spell_class_dropdown" class="spell_dropdown" style="margin-left:1em;" multiple></select>
                </div>
                <div class="listRow_header">
                    <div class="listRow__inner">
                        <input type="text" value="Name" readonly tabindex="-1">
                        <input type="text" value="Cast time" readonly tabindex="-1">
                        <input type="text" value="School" readonly tabindex="-1">
                        <input type="text" value="Level" readonly tabindex="-1">
                    </div>
                    <div class=" button_row">
                        <button class="copy_button hidden" onclick="copyParentHandler(this)" title="Copy"></button>
                        <button class="edit_button hidden" onclick="editParentHandler(this)" title="Edit"></button>
                        <button class="remove_button hidden" onclick="removeParentHandler(this)"
                            title="Delete from database"></button>

                    </div>
                </div>

            </section>
            <div class="listRow hidden" id="listFrame__items_template">
                <div class="listRow__inner">
                    <input type="text" value="Name" readonly tabindex="-1">
                    <input type="text" value="Type" readonly tabindex="-1">
                    <input type="text" value="Rarity" readonly tabindex="-1">
                </div>
                <div class=" button_row">
                    <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                    <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                    <button class="remove_button" onclick="removeParentHandler(this)"
                        title="Delete from database"></button>

                </div>
            </div>
            <section id="listFrame__items" class="listWrap hidden marginTop center_items">
                <button class="button button_style traybutton" title="Add homebrew items"
                    onclick="newItem('tab')">+</button>
                <div></div>
                <div class="row">
                    <input type="text" class="listSearch center" id="items_list_search">
                </div>
                <div class="listRow_header">
                    <div class="listRow__inner">
                        <input type="text" value="Name" readonly tabindex="-1">
                        <input type="text" value="Type" readonly tabindex="-1">
                        <input type="text" value="Rarity" readonly tabindex="-1">
                    </div>
                    <div class=" button_row">
                        <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                        <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                        <button class="remove_button" onclick="removeParentHandler(this)"
                            title="Delete from database"></button>

                    </div>
                </div>

            </section>
            <div class="listRow hidden" id="listFrame__conditions_template">
                <div class="listRow__inner">
                    <input type="text" value="Name" readonly tabindex="-1">
                </div>
                <div class=" button_row">
                    <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                    <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                    <button class="remove_button" onclick="removeParentHandler(this)"
                        title="Delete from database"></button>

                </div>
            </div>
            <section id="listFrame__conditions" class="listWrap hidden marginTop center_items">
                <button class="button button_style traybutton" title="Add homebrew conditions"
                    onclick="newItem('tab')">+</button>
                <div></div>
                <div class="row">
                    <input type="text" class="listSearch center" id="conditions_list_search">
                </div>
                <div class="listRow_header">
                    <div class="listRow__inner">
                        <input type="text" value="Name" readonly tabindex="-1">
                    </div>
                    <div class=" button_row">
                        <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                        <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                        <button class="remove_button" onclick="removeParentHandler(this)"
                            title="Delete from database"></button>

                    </div>
                </div>

            </section>
            <div class="listRow hidden" id="listFrame__encounters_template">
                <div class="listRow__inner listRow_inner_encounters">
                    <input type="text" value="Name" readonly tabindex="-1" class="wider">
                </div>
                <div class=" button_row">
                    <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                    <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                    <button class="remove_button" onclick="removeParentHandler(this)"
                        title="Delete from database"></button>

                </div>
            </div>
            <section id="listFrame__encounters" class="listWrap hidden marginTop center_items">
                <button class="button button_style traybutton" title="Add encounters"
                    onclick="newItem('tab')">+</button>
                <div></div>
                <div class="row">
                    <input type="text" class="listSearch center" id="encounters_list_search">
                </div>
                <div class="listRow_header">
                    <div class="listRow__inner listRow_inner_encounters">
                        <input type="text" value="Name" readonly tabindex="-1" class="wider">
                    </div>
                    <div class=" button_row">
                        <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                        <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                        <button class="remove_button" onclick="removeParentHandler(this)"
                            title="Delete from database"></button>

                    </div>
                </div>
            </section>
            <div class="listRow hidden" id="listFrame__tables_template">
                <div class="listRow__inner listRow_inner_encounters">
                    <input type="text" value="Name" readonly tabindex="-1" class="wider">
                </div>
                <div class=" button_row">
                    <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                    <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                    <button class="remove_button" onclick="removeParentHandler(this)"
                        title="Delete from database"></button>

                </div>
            </div>
            <section id="listFrame__tables" class="listWrap hidden marginTop center_items">
                <button class="button button_style traybutton" title="Add table" onclick="newItem('tab')">+</button>
                <div></div>
                <div class="row">
                    <input type="text" class="listSearch center" id="tables_list_search">
                </div>
                <div class="listRow_header">
                    <div class="listRow__inner listRow_inner_encounters">
                        <input type="text" value="Name" readonly tabindex="-1" class="wider">
                    </div>
                    <div class=" button_row">
                        <button class="copy_button" onclick="copyParentHandler(this)" title="Copy"></button>
                        <button class="edit_button" onclick="editParentHandler(this)" title="Edit"></button>
                        <button class="remove_button" onclick="removeParentHandler(this)"
                            title="Delete from database"></button>

                    </div>
                </div>
            </section>

            <section id="addtables" class="hidden addframe section__show  marginTop ">
                <h2 class="edit_header_name">New table / Note</h2>
                <div class="column">
                    <div class="addRowT">
                        <div class="column">
                            <input type="text" class="jsonAttributeT brown monster_attribute_chapter_label"
                                title="Attribute" placeholder="Attribute name" value="Name" readonly tabindex="-1">
                            <input type="text" class="jsonValueT db_name_field object_nameT">
                        </div>

                        <div class="column">
                            <input type="text" class="jsonAttributeT brown monster_attribute_chapter_label"
                                title="Attribute" placeholder="Attribute name" value="Description" readonly
                                tabindex="-1">
                            <textarea class="jsonValueT">  </textarea>
                        </div>
                    </div>
                    <div class="row addframe_table_controls">
                        <button class="button_style toggle_button " toggled="false" toggleGroup="1"
                            onclick="showTableElements()">Table</button>
                        <div class="row">
                            <button class="jsonTableControl_up jsonTableControlT button_style hidden"
                                onclick="resizeTable(1,0)">ðŸ ¹</button>
                            <button class="jsonTableControl_down jsonTableControlT button_style hidden"
                                onclick="resizeTable(1,1)">ðŸ »</button>
                            <button class="jsonTableControl_left jsonTableControlT button_style hidden"
                                onclick="resizeTable(0,0)">ðŸ ¸</button>
                            <button class="jsonTableControl_right jsonTableControlT button_style hidden"
                                onclick="resizeTable(0,1)">ðŸ º</button>
                        </div>
                    </div>

                    <div class="column addframe_table jsonTableT hidden">
                        <div class="jsonTableHeaderT row">
                            <input class="add_table_header table_headerT" placeholder="Header">
                            <input class="add_table_header table_headerT" placeholder="Header">
                            <input class="add_table_header table_headerT" placeholder="Header">
                        </div>
                        <div class="jsonTableRowT row">
                            <input class="table_row table_elementT" placeholder="Value">
                            <input class="table_row table_elementT" placeholder="Value">
                            <input class="table_row table_elementT" placeholder="Value">
                        </div>
                    </div>
                    <div class="infobox hidden" id="markdowninfotables">
                        <p>Use this form to save your homebrew items. After you have saved the entry it will be
                            available via
                            standard
                            search
                        </p>
                        <p>
                            <strong>The database cannot support multiple entries with the same name.</strong> Saving
                            two items
                            under the same
                            name will overwrite the older one.
                        </p>
                        <p>You can use Markdown to style your entries. </p>

                        <button class="floating" onclick="hide('markdowninfotables')">x</button>
                    </div>
                    <button class="small interactive floating help_icon"
                        onclick="showBlock('markdowninfotables')">?</button>
                    <div class="float_right_group">

                        <button class="button button_style brown"
                            onclick="return doneAdding('addtables')">Close</button>
                        <button class="button button_style brown save_button" disabled
                            onclick="return saveHomebrew(true)">Save</button>
                    </div>
                </div>
            </section>



            <section id="addconditions" class="hidden  addframe section__show marginTop ">
                <h2 class="edit_header_name">New condition</h2>
                <div class="row">

                    <div class="column" style="flex:4">
                        <div class="addRowC">
                            <div class="column">
                                <input type="text" class="jsonAttributeC monster_attribute_chapter_label brown "
                                    title="Attribute" placeholder="Attribute name" value="Name" readonly tabindex="-1">
                                <input type="text" class="jsonValueC db_name_field object_nameC">
                            </div>

                            <div class="column">
                                <input type="text" class="jsonAttributeC monster_attribute_chapter_label brown"
                                    title="Attribute" placeholder="Attribute name" value="Description" readonly
                                    tabindex="-1">
                                <textarea class="jsonValueC">  </textarea>
                            </div>



                            <div class="infobox hidden" id="markdowninfoconditions">
                                <p>Use this form to save your homebrew houserules, conditions or notes. After you have
                                    saved
                                    the entry it
                                    will be
                                    available via standard search.</p>
                                <p>
                                    <strong>The database cannot support multiple entries with the same
                                        name.</strong>Refrain
                                    from saving
                                    two conditions
                                    or rules under the same name, as you will not be able to access them.
                                </p>
                                <p>You can use Markdown to style your entries. For example, a spell list for an NPC can
                                    be
                                    made
                                    with a
                                    markdown
                                    list:
                                    <br> * 1st level
                                    <br> * 2nd level
                                    <br> will render as
                                <ul>
                                    <li>1st level </li>
                                    <li>Second level </li>
                                </ul>Emphasis can be added with ** A very important word **, which will render as
                                <strong>A very important word</strong>
                                </p>
                                <p>Google Markdown syntax for more information on styling with Markdown.</p>
                                <button class="floating" onclick="hide('markdowninfoconditions')">x</button>

                            </div>
                            <button class="small interactive floating help_icon"
                                onclick="showBlock('markdowninfoconditions')">?</button>

                        </div>
                    </div>
                    <div class="condition_icon_container">
                        <img id="condition_image_picker">
                    </div>
                </div>
                <div class="float_right_group">

                    <button class="button button_style brown"
                        onclick="return doneAdding('addconditions')">Close</button>
                    <button class="button button_style brown save_button" disabled
                        onclick="return saveHomebrew(true)">Save</button>
                </div>
            </section>

            <section id="additems" class="hidden addframe section__show marginTop ">
                <h2 class="edit_header_name">New item</h2>
                <div class="column">
                    <div class="addRowI">
                        <div class="column">
                            <input type="text" class="jsonAttributeI brown monster_attribute_chapter_label" value="Name"
                                readonly tabindex="-1">
                            <input type="text" tabindex=1 class="jsonValueI db_name_field object_nameI additem_name">
                        </div>

                        <div class="row monster_stat_row">
                            <div class="column">
                                <input type="text" class="jsonAttributeI readonly_monster_attr " value="Rarity" readonly
                                    tabindex="-1">
                                <input type="text" tabindex=1 class="jsonValueI additem_rarity" id="item_rarity_input">
                            </div>

                            <div class="column">
                                <input type="text" class="jsonAttributeI readonly_monster_attr" title="Attribute"
                                    placeholder="Attribute name" value="Type" readonly tabindex="-1">
                                <input type="text" tabindex=1 class="jsonValueI additem_type" id="item_type_input">
                            </div>


                        </div>
                        <div class = "column">
                            <input type="text" class=" readonly_monster_attr" value="Requires attunement" readonly tabindex="-1">
                            <div class="row attunement_row">
                                <label class="container_for_checkbox">
                                    <input type="checkbox" tabindex=1 class="center additem_requires_attunement" id="additem_requires_attunement"
                                        title="Item requires attunement">
                                    <span class="checkmark"></span>
                                </label>
                                <input type ="text" class = "additem_requires_attunement_by" id ="additem_requires_attunement_by" placeholder="Anyone can attune">
                            </div>
                        </div>
                        <div class="column">
                            <input type="text" class="jsonAttributeI brown monster_attribute_chapter_label"
                                value="Description" readonly tabindex="-1">
                            <textarea tabindex=1 class="jsonValueI additem_description" style="min-height: 140px;">  </textarea>
                        </div>
                       
                    </div>
                   
                   
                    <div class="row addframe_table_controls">
                        <button class="button_style toggle_button" toggled="false" toggleGroup="2"
                            onclick="showTableElements()">Table</button>
                        <div class="row">
                            <button class="jsonTableControl_up jsonTableControlI button_style hidden"
                                onclick="resizeTable(1,0)">ðŸ ¹</button>
                            <button class="jsonTableControl_down jsonTableControlI button_style hidden"
                                onclick="resizeTable(1,1)">ðŸ »</button>
                            <button class="jsonTableControl_left jsonTableControlI button_style hidden"
                                onclick="resizeTable(0,0)">ðŸ ¸</button>
                            <button class="jsonTableControl_right jsonTableControlI button_style hidden"
                                onclick="resizeTable(0,1)">ðŸ º</button>
                        </div>

                    </div>

                    <div class="column addframe_table jsonTableI hidden">
                        <div class="jsonTableHeaderI row">
                            <input class="add_table_header required_input table_headerI" required placeholder="Header">
                            <input class="add_table_header required_input table_headerI" required placeholder="Header">
                            <input class="add_table_header required_input table_headerI" required placeholder="Header">
                        </div>
                        <div class="jsonTableRowI row">
                            <input class="table_row table_elementI" placeholder="Value">
                            <input class="table_row table_elementI" placeholder="Value">
                            <input class="table_row table_elementI" placeholder="Value">
                        </div>
                    </div>
                    <div class="infobox hidden" id="markdowninfoitems">
                        <p>Use this form to save your homebrew items. After you have saved the entry it will be
                            available via
                            standard
                            search
                        </p>
                        <p>
                            <strong>The database cannot support multiple entries with the same name.</strong> Saving
                            two items
                            under the same
                            name will overwrite the older one.
                        </p>
                        <p>You can use Markdown to style your entries. </p>

                        <button class="floating" onclick="hide('markdowninfoitems')">x</button>
                    </div>
                    <button class="small interactive floating help_icon"
                        onclick="showBlock('markdowninfoitems')">?</button>
                    <div class="float_right_group">

                        <button class="button button_style brown" onclick="return doneAdding('additems')">Close</button>
                        <button class="button button_style brown save_button" disabled
                            onclick="return saveHomebrew(true)">Save</button>
                    </div>
                </div>
            </section>

            <section id="addspells" class="hidden addframe section__show marginTop ">
                <h2 class="edit_header_name">New spell</h2>
                <div class="column">
                    <div class="addRowS">
                        <div class="column">
                            <div class="row">
                                <input type="text" class="jsonAttributeClasses brown monster_attribute_chapter_label"
                                    title="Attribute" placeholder="Attribute name" value="Classes" readonly
                                    tabindex="-1">
                                <button class="small brown circular_button" style="margin-top:1.5em" title="Add class"
                                    onclick="addClassTextBoxForSpells()">
                                    + </button>
                            </div>
                            <div class="row" id="spell_class_row">

                                <input tabindex=1 type="text" class="jsonValueClasses">

                            </div>
                        </div>


                        <div class="column">
                            <input type="text" class="jsonAttributeS brown monster_attribute_chapter_label "
                                value="Name" readonly tabindex="-1">
                            <input type="text" tabindex=1 class=" db_name_field object_nameS spell_name">
                        </div>
                        <div class="row monster_stat_row">
                            <div class="column" style="width: 40px;">
                                <input type="text" class="jsonAttributeS readonly_monster_attr" title="Attribute"
                                    placeholder="Attribute name" value="Level" readonly tabindex="-1">
                                <input type="text" tabindex=1 class=" spell_level">
                            </div>
                            <div class="column" style="flex:2">
                                <input type="text" class="jsonAttributeS readonly_monster_attr" title="Attribute"
                                    placeholder="Attribute name" value="School" readonly tabindex="-1">
                                <input type="text" tabindex=1 class="spell_school" id="spell_school_input">
                            </div>
                            <div class="column" style="width: 40px;">
                                <input type="text" class=" readonly_monster_attr" value="Ritual" readonly tabindex="-1">
                                <label class="container_for_checkbox">
                                    <input type="checkbox" tabindex=1 class="center " id="ritual_casting_spell_checkbox"
                                        title="Ritual casting">
                                    <span class="checkmark"></span>
                                </label>
                            </div>

                        </div>
                        <div class="row monster_stat_row">
                            <div class="column">
                                <input type="text" class="jsonAttributeS readonly_monster_attr" title="Attribute"
                                    placeholder="Attribute name" value="Range" readonly tabindex="-1">
                                <input type="text" tabindex=1 class="spell_range">
                            </div>

                            <div class="column">
                                <input type="text" class="jsonAttributeS readonly_monster_attr" title="Attribute"
                                    placeholder="Attribute name" value="Components" readonly tabindex="-1">
                                <input tabindex=1 type="text" class="spell_components">
                            </div>
                        </div>

                        <div class="row monster_stat_row">
                            <div class="column">
                                <input type="text" class="jsonAttributeS readonly_monster_attr" title="Attribute"
                                    placeholder="Attribute name" value="Casting time" readonly tabindex="-1">
                                <input type="text" tabindex=1 class="spell_casting_time">
                            </div>

                            <div class="column">
                                <input type="text" class="jsonAttributeS readonly_monster_attr" title="Attribute"
                                    placeholder="Attribute name" value="Duration" readonly tabindex="-1">
                                <input type="text" tabindex=1 class="spell_duration">
                            </div>

                        </div>

                        <div class="column">
                            <input type="text" class="jsonAttributeS monster_attribute_chapter_label brown"
                                title="Attribute" value="Description" readonly tabindex="-1">
                            <textarea style="min-height:120px;" tabindex=1 class="spell_description">  </textarea>
                        </div>

                        <div class="column">
                            <input type="text" class="jsonAttributeS monster_attribute_chapter_label brown"
                                title="Attribute" placeholder="Attribute name" value="Higher levels" readonly
                                tabindex="-1">
                            <textarea tabindex=1 class="spell_higher_levels">  </textarea>
                        </div>








                    </div>


                    <div class="infobox hidden" id="markdowninfospells">
                        <p>Use this form to save your homebrew spells. After you have saved the entry it will be
                            available via
                            standard
                            search
                        </p>
                        <p>
                            <strong>The database cannot support multiple entries with the same name.</strong> Saving
                            two spells
                            under the same
                            name will overwrite the older one.
                        </p>
                        <p>You can use Markdown to style your entries. </p>

                        <button class="floating" onclick="hide('markdowninfospells')">x</button>


                    </div>
                    <button class="small interactive floating help_icon"
                        onclick="showBlock('markdowninfospells')">?</button>
                    <div class="float_right_group">

                        <button class="button button_style brown"
                            onclick="return doneAdding('addspells')">Close</button>
                        <button class="button button_style brown save_button" disabled
                            onclick="return saveHomebrew(true)">Save</button>
                    </div>
                </div>
            </section>

            <section id="addencounters" style="width:100vw;" class="hidden section__show addframe  marginTop ">
                <h2 class="edit_header_name">New encounter</h2>
                <div class="top_right_corner">

                    <button class=" button_style " onclick="return doneAdding('addencounters')">Close</button>
                    <button class=" button_style save_button" disabled style="margin-left: 5px;"
                        onclick="return saveHomebrew(true)">Save</button>
                </div>
                <div class="column">

                    <div class="row spread_children">
                        <div class="column">
                            <div class="addRowE">
                                <div class="column">
                                    <input type="text" class="jsonAttributeE brown monster_attribute_chapter_label"
                                        value="Name" readonly tabindex="-1">

                                    <input type="text" class="jsonValueE db_name_field object_nameE">

                                </div>

                                <div class="column">
                                    <input type="text" class="jsonAttributeE brown monster_attribute_chapter_label"
                                        title="Attribute" placeholder="Attribute name" value="Description" readonly
                                        tabindex="-1">
                                    <textarea class="jsonValueE add_encounter_description"
                                        style="width: 400px; height: 250px; margin: 0px;">  </textarea>
                                </div>



                            </div>

                        </div>

                        <div class="column margin_left">
                            <div class="row">
                                <div class="column">
                                    <label for="encounter_challenge_calculator_value_unadjusted">
                                        Total XP
                                    </label>
                                    <input type="number" id="encounter_challenge_calculator_value_unadjusted" readonly
                                        tabindex="-1">
                                    <label for="encounter_challenge_calculator_value">
                                        Adjusted total XP
                                    </label>
                                    <input type="number" id="encounter_challenge_calculator_value" readonly
                                        tabindex="-1">
                                    <div class="row">
                                        <label for="userCurrentPartyForEncounterDiff"
                                            id="userCurrentPartyForEncounterDiffLabel">Use current party levels</label>

                                        <label class="container_for_checkbox">
                                            <input type="checkbox" group="1" id="userCurrentPartyForEncounterDiff"
                                                class="center" title="Advantage">
                                            <span class="checkmark"></span>
                                        </label>
                                    </div>
                                    <div class="column" id="encounter_challenge_manual_input">
                                        <label for="encounter_challenge_calculator_character_size">Party Size</label>
                                        <input type="number" id="encounter_challenge_calculator_character_size">
                                        <label for="encounter_challenge_calculator_character_level">Party Level</label>
                                        <input type="number" id="encounter_challenge_calculator_character_level" max=20>
                                    </div>


                                    <div class="column">
                                        <h3 class="nomargin">Difficulty:</h3>
                                        <input type="text" id="encounter_challenge_calculator_result">
                                    </div>
                                </div>
                                <div class="column encounter_limit_values">
                                    <div class="row trivial_encounter_value">
                                        <label>Trivial: </label>
                                        <label id="encounter_trivial_value"></label>
                                    </div>
                                    <div class="row easy_encounter_value">
                                        <label>Easy: </label>
                                        <label id="encounter_easy_value"></label>
                                    </div>
                                    <div class="row medium_encounter_value">
                                        <label>Medium: </label>
                                        <label id="encounter_medium_value"></label>
                                    </div>
                                    <div class="row hard_encounter_value">
                                        <label>Hard: </label>
                                        <label id="encounter_hard_value"></label>
                                    </div>
                                    <div class="row deadly_encounter_value">
                                        <label>Deadly: </label>
                                        <label id="encounter_deadly_value"></label>
                                    </div>
                                    <div class="progress_bar_encounter_difficulty">
                                        <div></div>
                                    </div>
                                </div>

                            </div>

                            <div class="addRowE addRow_creatures" id="encounter_row_container">
                                <div class="row marginTop">
                                    <input type="text" class="" title="Attribute" placeholder="Attribute name"
                                        value="Creatures" readonly tabindex="-1">
                                    <input type="text" class=" smaller" title="Attribute" placeholder="Attribute name"
                                        value="Number" readonly tabindex="-1">
                                    <input type="text" class=" smaller" title="Attribute" placeholder="Attribute name"
                                        value="CR" readonly tabindex="-1">
                                </div>

                                <div class="row">
                                    <input type="text" class="specialjsonAttributeE" title="Creature name"
                                        placeholder="Creature">
                                    <input type="number" class="specialjsonValueE smaller">
                                    <input type="number" class="encounter_creature_cr smaller" placeholder="CR" min="0"
                                        max="30" readonly>
                                </div>

                                <div class="row">
                                    <input type="text" class="specialjsonAttributeE" title="Creature name"
                                        placeholder="Creature">
                                    <input type="number" class="specialjsonValueE smaller">
                                    <input type="number" class="encounter_creature_cr smaller" placeholder="CR" min="0"
                                        max="30" readonly>
                                </div>
                            </div>
                            <button class="small brown circular_button" title="Add creatures" onclick="addRow()"> +
                            </button>
                        </div>

                    </div>

                    <div class="infobox hidden" id="markdowninfoencounters">
                        <p>Use this form to save your encounters. After you have saved the entry it will be available
                            via standard
                            search
                            and you will be able to load all the creatures into the combat table, provided that the
                            name you
                            entered
                            can be found in the database.</p>
                        <p>
                            <strong>The database cannot support multiple entries with the same name.</strong> Saving
                            two encounters
                            under the
                            same name will overwrite the older one.
                        </p>
                        <p>You can use Markdown to style your entries. </p>
                        <p>The calculator on the right will estimate the encounter difficulty, that information is not
                            saved.</p>

                        <button class="floating" onclick="hide('markdowninfoencounters')">x</button>

                    </div>
                    <button class="small interactive floating help_icon"
                        onclick="showBlock('markdowninfoencounters')">?</button>

                </div>
                <div class="encounter_table_container">
                    <div class="encounter_table_tools">
                        <div class="column">
                            <button onclick='getRandomEncounter()' class="button_style"
                                title="Attempt to create a random encounter from the table">Randomize</button>
                            <input class="list_search_style " style="height: 25px;   border-radius: 5px;"
                                id="encounter_monster_list_search">

                        </div>

                        <select class="chosen-select" multiple id="monster_type_select">

                        </select>
                        <div id="encounter_cr_slider" style="width:300px;"></div>
                    </div>


                    <table class=" encounter_table">
                        <thead>
                            <tr id="encounter_table_header_row">
                                <th data-sort_direction="1" data-sort_attr="name">
                                    Name
                                </th>

                                <th data-sort_direction="1" data-sort_attr="type">
                                    Type
                                </th>
                                <th data-sort_direction="1" data-sort_attr="challenge_rating">
                                    CR
                                </th>
                            </tr>
                        </thead>

                        <tbody>

                        </tbody>

                    </table>
                </div>
            </section>


            <section id="addmonsters" class="hidden pageframe_wrap addframe marginTop column ">
                <h2 class="edit_header_name">New monster</h2>
                <div class="row">
                    <div class="column monster_stat_column">
                        <div class="addRow">
                            <div class="row space_between">

                                <div class="row">
                                    <label type="text" style="width: 4em;"
                                        title="Unique NPC's or monsters will not be used in encounter generation">Unique</label>
                                    <label class="container_for_checkbox">
                                        <input type="checkbox" tabindex=1 class="center " id="addmonster_unique"
                                            title="Unique NPC's or monsters will not be used in encounter generation">
                                        <span class="checkmark"></span>
                                    </label>
                                </div>
                                <input id="addmonster_tag_input" style="max-width: 200px;" placeholder="Add tag...">



                            </div>
                            <div class="row">
                                <label title="Tagging creatures allows for easier grouping"
                                    style="width: 4em; padding: 0.25em 0 0 0;">Tags</label>
                                    <div class = "info_button hidden" id = "monster_tag_suggestion_info_button">
                                        <div class = "info_button_tooltip">
                                            <p style = "font-style:italic">Based on creature name, the following tags are suggested:</p>
                                            <div class = "monster_tag_suggestion_container">
                                           </div>
                                           <button class = "button_style_black" id = "add_tags_from_sugestion_button">Add</button>
                                        </div>
                                    </div>
                                <div id="addmonster_tag_container">

                                </div>
                            </div>
                            <div class="column">
                                <input type="text" class="attr brown monster_attribute_chapter_label" title="Attribute"
                                    placeholder="Attribute name" value="Name" readonly tabindex="-1" />
                                <input type="text" class=" object_name db_name_field addmonster_name"
                                    id="addmonster_name">
                            </div>

                            <div class="row monster_stat_row">
                                <div class="column">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_type">Type</label>
                                    <input type="text" id="addmonster_type" class=" addmonster_type"
                                        id="addmonster_type">
                                </div>

                                <div class="column">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_subtype">Subtype</label>
                                    <input type="text" class=" addmonster_subtype" id="addmonster_subtype">
                                </div>
                                <div class="column" style="flex:1;">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_challenge_rating">Challenge rating</label>
                                    <input type="text" class=" addmonster_challenge_rating"
                                        id="addmonster_challenge_rating">
                                </div>
                            </div>
                            <div class="row monster_stat_row">
                                <div class="column">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_size">Size</label>
                                    <input type="text" class=" addmonster_size" id="addmonster_size">
                                </div>

                                <div class="column" style="flex:1;">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_speed">Speed</label>
                                    <input type="text" class=" addmonster_speed" id="addmonster_speed">
                                </div>
                                <div class="column">
                                    <label class="attr readonly_monster_attr" tabindex="-1"
                                        for="addmonster_alignment">Alignment</label>
                                    <input type="text" class=" addmonster_alignment" id="addmonster_alignment">
                                </div>

                            </div>

                            <div class="row monster_stat_row">

                                <div class="column">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_senses">Senses</label>
                                    <input type="text" class=" addmonster_senses" id="addmonster_senses">
                                </div>


                                <div class="column">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_languages">Languages</label>
                                    <input type="text" class=" addmonster_languages" id="addmonster_languages">
                                </div>

                            </div>


                            <div class="row monster_stat_row">
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr " style="text-align:left" tabindex="-1"
                                        for="addmonster_description">Description</label>
                                    <textarea class=" addmonster_description" id="addmonster_description">  </textarea>
                                </div>
                            </div>

                            <div class="row monster_stat_row">
                                <div class="column" style="flex:1">
                                    <input type="text" class="attr brown monster_attribute_chapter_label"
                                        title="Attribute" placeholder="Attribute name" value="Attributes" readonly
                                        tabindex="-1" />
                                    <div class="row attribute_input_container">
                                        <div class=column>
                                            <input type="text" class="saving_throw_label attr" title="Attribute"
                                                placeholder="Attribute name" value="Strength" readonly tabindex="-1" />
                                            <input type="number" class=" addmonster_strength" />
                                        </div>
                                        <div class=column>
                                            <input type="text" class="saving_throw_label attr" title="Attribute"
                                                placeholder="Attribute name" value="Dexterity" readonly tabindex="-1" />
                                            <input type="number" class=" addmonster_dexterity" />
                                        </div>
                                        <div class=column>
                                            <input type="text" class="saving_throw_label attr" title="Attribute"
                                                placeholder="Attribute name" value="Constitution" readonly
                                                tabindex="-1" />
                                            <input type="number" class=" addmonster_constitution" />
                                        </div>
                                        <div class=column>
                                            <input type="text" class="saving_throw_label attr" title="Attribute"
                                                placeholder="Attribute name" value="Intelligence" readonly
                                                tabindex="-1" />
                                            <input type="number" class=" addmonster_intelligence" />
                                        </div>
                                        <div class=column>
                                            <input type="text" class="saving_throw_label attr" title="Attribute"
                                                placeholder="Attribute name" value="Wisdom" readonly tabindex="-1" />
                                            <input type="text" class=" addmonster_wisdom">
                                        </div>
                                        <div class=column>
                                            <input type="text" class="saving_throw_label attr" title="Attribute"
                                                placeholder="Attribute name" value="Charisma" readonly tabindex="-1" />
                                            <input type="text" class=" addmonster_charisma">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="row monster_stat_row">
                                <div class="column" style="flex:1">
                                    <input type="text" class="attr brown monster_attribute_chapter_label"
                                        title="Attribute" placeholder="Attribute name" value="Saving throws" readonly
                                        tabindex="-1" />
                                    <div class="row saving_throw_input_container">
                                        <div class=column>
                                            <input type="text" class="saving_throw_label" title="Attribute"
                                                placeholder="Attribute name" value="Strength" readonly tabindex="-1" />
                                            <input type="number" class="saving_throw_input"
                                                data-dnd_attr="strength_save">
                                        </div>
                                        <div class=column>
                                            <input type="text" class="saving_throw_label" title="Attribute"
                                                placeholder="Attribute name" value="Dexterity" readonly tabindex="-1" />
                                            <input type="number" class="saving_throw_input "
                                                data-dnd_attr="dexterity_save">
                                        </div>
                                        <div class=column>
                                            <input type="text" class="saving_throw_label" title="Attribute"
                                                placeholder="Attribute name" value="Constitution" readonly
                                                tabindex="-1" />
                                            <input type="number" class="saving_throw_input"
                                                data-dnd_attr="constitution_save">
                                        </div>
                                        <div class=column>
                                            <input type="text" class="saving_throw_label" title="Attribute"
                                                placeholder="Attribute name" value="Intelligence" readonly
                                                tabindex="-1" />
                                            <input type="number" class="saving_throw_input"
                                                data-dnd_attr="intelligence_save">
                                        </div>
                                        <div class=column>
                                            <input type="text" class="saving_throw_label" title="Attribute"
                                                placeholder="Attribute name" value="Wisdom" readonly tabindex="-1" />
                                            <input type="number" class="saving_throw_input" data-dnd_attr="wisdom_save">
                                        </div>
                                        <div class=column>
                                            <input type="text" class="saving_throw_label" title="Attribute"
                                                placeholder="Attribute name" value="Charisma" readonly tabindex="-1" />
                                            <input type="number" class="saving_throw_input"
                                                data-dnd_attr="charisma_save">
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="row monster_stat_row">
                                <div class="column" style="flex:2;">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_ac_source">Armor
                                        type</label>
                                    <input class="  addmonster_ac_source" id="addmonster_ac_source">
                                </div>

                                <div class="column" style="flex:1;">
                                    <label class="attr readonly_monster_attr " tabindex="-1" for="homebrewAC">Armor
                                        class</label>
                                    <input type="number" class=" monsterCR addmonster_armor_class" id="homebrewAC">
                                </div>

                                <div class="column" style="flex:1;">
                                    <label class="attr readonly_monster_attr " tabindex="-1" for="homebrewHP">Hit
                                        points</label>
                                    <input type="number" class=" monsterCR addmonster_hit_points" id="homebrewHP">
                                </div>

                                <div class="column" style="flex:1;">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_hit_dice">Hit dice</label>
                                    <input type="text" class=" addmonster_hit_dice" id="addmonster_hit_dice">
                                </div>
                            </div>
                            <div class="row monster_stat_row">
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr " tabindex="-1" style="text-align:left"
                                        for="addmonster_skills">Skills</label>
                                    <input type="text" class=" addmonster_skills" id="addmonster_skills">
                                </div>
                            </div>
                            <div class="row monster_stat_row">
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_damage_resistances">Damage resistances</label>
                                    <input type="text" class=" addmonster_damage_resistances"
                                        id="addmonster_damage_resistances">
                                </div>
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_damage_immunities">Damage immunities</label>
                                    <input type="text" class=" addmonster_damage_immunities"
                                        id="addmonster_damage_immunities">
                                </div>

                            </div>
                            <div class="row monster_stat_row">
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_condition_immunities">Condition immunities</label>
                                    <input type="text" class=" addmonster_condition_immunities"
                                        id="addmonster_condition_immunities">
                                </div>

                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr " tabindex="-1"
                                        for="addmonster_damage_vulnerabilities">Damage vulnarabilities</label>
                                    <input type="text" class=" addmonster_damage_vulnerabilities"
                                        id="addmonster_damage_vulnerabilities">
                                </div>
                            </div>
                            <div class="row">
                                <input type="text" class="attr brown monster_attribute_chapter_label"
                                    title="Other custom attribute" value="Other attributes" readonly tabindex="-1" />
                                <button class="small brown circular_button" style="  margin-top:1.5em;" title="Add row"
                                    onclick="addRow()"> + </button>
                            </div>

                            <div class="row">
                                <input type="text" class="jsonAttribute" title="Attribute" placeholder="Attribute name"
                                    value="">
                                <input type="text" class="jsonValue">
                            </div>

                            <div class="row">
                                <input type="text" class="jsonAttribute" title="Attribute" placeholder="Attribute name"
                                    value="">
                                <input type="text" class="jsonValue">
                            </div>

                        </div>


                        <span style="margin-top:1.5em"></span>
                        <div class="row">
                            <input type="text" class="special_abilities_array brown" value="Special abilities" readonly
                                tabindex="-1">

                            <button class="small brown circular_button" title="Add attribute"
                                onclick="addRow('special_abilities')">
                                +
                            </button>
                        </div>

                        <div class="addRow_special_abilities">
                            <div class="row special_ability_column">
                                <input type="text" class="specialjsonAttribute" title="Attribute"
                                    placeholder="Ability name" value="Amphibious">
                                <textarea class="specialjsonValue"> </textarea>
                            </div>
                            <div class="row special_ability_column">
                                <input type="text" class="specialjsonAttribute" title="Attribute"
                                    placeholder="Ability name" value="Incorporeal">
                                <textarea class="specialjsonValue"> </textarea>
                            </div>
                        </div>

                        <span style="margin-top:1.5em"></span>
                        <div class="row">
                            <input type="text" class="special_abilities_array brown" value="Reactions" readonly
                                tabindex="-1">

                            <button class="small brown circular_button" title="Add attribute"
                                onclick="addRow('reactions')">
                                +
                            </button>
                        </div>

                        <div class="addRow_reactions">
                            <div class="row reaction_row special_ability_column">
                                <input type="text" class="reaction_name" title="Attribute" placeholder="Reaction name"
                                    value="Amphibious">
                                <textarea class="reaction_value"> </textarea>
                            </div>

                        </div>

                        <span></span>

                    </div>

                    <div class="column monster_util_column">
                        <div class=column>
                            <div class="import_button  context_menu_root" style="width:100px">
                                <Label style="color:white; font-size:12px; text-align: center;">Import</Label>
                                <button class="button_style context_menu_item"
                                    id="dnd_beyond_statblock_import_button">DnDBeyond</button>
                            </div>

                            <div class="column token_column" style="margin-top:5em">
                                <div class="row">
                                    <div class="row">
                                        <h2 style="margin:0;">Tokens</h2>
                                        <label for="trim_token_checkbox" style="margin: 3px 0px 3px 16px;"
                                            title="Trimming removes whitespace from the edge of the image.">Trim</label>
                                        <label class="container_for_checkbox" for="trim_token_checkbox"
                                            style="margin: 3px">

                                            <input type="checkbox" tabindex=-1 class="center " id="trim_token_checkbox"
                                                checked title="Trimming removes whitespace from the edge of the image.">
                                            <span class="checkmark"></span>
                                        </label>
                                    </div>

                                    <button class="small brown circular_button" id="addTokenButton" disabled
                                        title="Add tokens" onclick="addTokensToCurrentMonster()">
                                        +
                                    </button>
                                </div>
                                <p class="explanation_text">These are tokens used by the Map Tool.</p>
                                <div id="maptool_token_container"></div>
                            </div>

                            <section class="cr_calculator_wrap cr_calculator_lookup column" style="margin-bottom:1em">
                                <h2 style="color:black">Challenge rating lookup</h2>
                                <div class="cr_result_row">

                                    <div class="row" style="margin-bottom: 1em;">
                                        <div class=" black monster_attribute_chapter_label">Challenge rating</div>
                                        <input id="cr_lookup_cr" placeholder="0" class="cr_calculator_result_value">
                                    </div>
                                </div>
                                <div class="cr_lookup_results hidden">
                                    <div class=" challenge_rating_values ">
                                        <div class="row">
                                            <label>Proficiency bonus: </label>
                                            <p class="proficiency_bonus_cr_lookup"></p>
                                        </div>
                                        <div class="row">
                                            <label>Attack bonus: </label>
                                            <p class="attack_bonus_cr_lookup"></p>
                                        </div>
                                        <div class="row">
                                            <label>Save DC: </label>
                                            <p class="save_dc_cr_lookup"></p>
                                        </div>
                                        <div class="row">
                                            <label>Damage per round: </label>
                                            <p class="average_damage_cr_lookup"></p>
                                        </div>

                                    </div>
                                    <div class=" challenge_rating_values ">

                                        <div class="row">
                                            <label>AC: </label>
                                            <p class="armor_class_cr_lookup"></p>
                                        </div>

                                        <div class="row">
                                            <label>Hit points: </label>
                                            <p class="hit_points_cr_lookup"></p>
                                        </div>
                                    </div>

                                </div>

                            </section>


                            <section class="cr_calculator_wrap column">
                                <h2 style="color:black">Challenge rating calculator</h2>
                                <div class="cr_result_row" style="    justify-content: space-around;">
                                    <div class="column">
                                        <input style="cursor:help" class="tooltipped black"
                                            data-tooltip="Assume all attacks hit, use the highest number of attacks available, and take the average of all dice."
                                            readonly value="Predicted damage per round" tabindex="-1">
                                        <input type="number" id="predictedDamageOutput" placeholder="1" min="0"
                                            max="320" class="monsterCR">
                                    </div>
                                    <div class="column">
                                        <input class=" black" readonly value="Main attack bonus" tabindex="-1">
                                        <input type="number" id="mainAttackBonus" placeholder="0" min="0" max="100"
                                            class="monsterCR">
                                    </div>

                                    <div class="column">
                                        <input class=" black" readonly value="Save DC" tabindex="-1">
                                        <input type="number" id="cr_calculator_save_dc" placeholder="12" min="0"
                                            max="100" class="monsterCR">
                                    </div>
                                </div>
                                <div class="cr_calculator_results hidden">
                                    <div class="cr_result_row">
                                        <div class=" black monster_attribute_chapter_label">Offensive challenge rating
                                        </div>
                                        <div class="cr_calculator_result_value" id="OCR"></div>
                                    </div>
                                    <div class=" challenge_rating_values " id="offensive_cr_row">
                                        <div class="row">
                                            <label>Attack bonus: </label>
                                            <p class="attack_bonus_cr_calculator"></p>
                                        </div>
                                        <div class="row">
                                            <label>Save DC: </label>
                                            <p class="save_dc_cr_calculator"></p>
                                        </div>
                                        <div class="row">
                                            <label>Damage per round: </label>
                                            <p class="average_damage_cr_calculator"></p>
                                        </div>
                                        <div class="row">
                                            <label>Proficiency bonus: </label>
                                            <p class="proficiency_bonus_cr_calculator"></p>
                                        </div>
                                    </div>
                                    <div class="cr_result_row">
                                        <div class=" black monster_attribute_chapter_label">Defensive challenge rating
                                        </div>
                                        <div class="cr_calculator_result_value" id="DCR"></div>
                                    </div>
                                    <div class=" challenge_rating_values " id="defensive_cr_row">
                                        <div class="row">
                                            <label>AC: </label>
                                            <p class="armor_class_cr_calculator"></p>
                                        </div>

                                        <div class="row">
                                            <label>Hit points: </label>
                                            <p class="hit_points_cr_calculator"></p>
                                        </div>

                                    </div>

                                    <div class="cr_result_row">
                                        <div class="black monster_attribute_chapter_label">Suggested challenge rating
                                        </div>
                                        <div class="cr_calculator_result_value" id="suggestedCR"></div>
                                    </div>

                                </div>

                            </section>

                        </div>

                    </div>
                </div>
                <div class="monster_action_container">
                    <div class="row">
                        <input type="text" class="actions_array brown" value="Actions" readonly tabindex="-1">
                        <button class="small brown circular_button" title="Add attribute" onclick="addRow('actions')"> +
                        </button>
                    </div>

                    <div class="addRow_actions">
                        <div class="row action_row">
                            <div class="row spread_children">
                                <div class="column" style="flex:2">
                                    <input type="text" class=" brown actionjsonAttribute" style="width:6em;"
                                        value="Name" readonly tabindex="-1">
                                    <input type="text" class="actionjsonValue  action_name" value="Slam">
                                </div>

                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr actionjsonAttribute" tabindex="-1">Attack
                                        bonus</label>
                                    <input type="number" class="actionjsonValue action_attack_bonus">
                                </div>
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr actionjsonAttribute" tabindex="-1">Damage
                                        dice</label>
                                    <input type="text" class="actionjsonValue action_damage_dice">
                                </div>
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr actionjsonAttribute" tabindex="-1">Damage
                                        bonus</label>
                                    <input type="number" class="actionjsonValue action_damage_bonus">
                                </div>
                            </div>


                            <div class="column" style="flex:2">
                                <label class="attr readonly_monster_attr actionjsonAttribute" tabindex="-1"
                                    style="text-align:left">Description</label>
                                <textarea class="actionjsonValue action_description action_description"> </textarea>
                            </div>
                        </div>
                        <div class="row action_row">
                            <div class="row spread_children">
                                <div class="column" style="flex:2">
                                    <input type="text" class=" brown actionjsonAttribute" style="width:6em;"
                                        value="Name" readonly tabindex="-1">
                                    <input type="text" class="actionjsonValue action_name" value="Slam">
                                </div>

                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr actionjsonAttribute" tabindex="-1">Attack
                                        bonus</label>
                                    <input type="number" class="actionjsonValue action_attack_bonus">
                                </div>
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr actionjsonAttribute" tabindex="-1">Damage
                                        dice</label>
                                    <input type="text" class="actionjsonValue action_damage_dice">
                                </div>
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr actionjsonAttribute" tabindex="-1">Damage
                                        bonus</label>
                                    <input type="number" class="actionjsonValue action_damage_bonus">
                                </div>
                            </div>


                            <div class="column" style="flex:2">
                                <label class="attr readonly_monster_attr actionjsonAttribute" tabindex="-1"
                                    style="text-align:left">Description</label>
                                <textarea class="actionjsonValue action_description action_description"> </textarea>
                            </div>
                        </div>



                    </div>



                    <span></span>

                    <div class="row" style="margin-top:2em;">
                        <input type="text" class="legendary_actions_array brown" value="Legendary actions " readonly
                            tabindex="-1">
                        <button class="small brown circular_button" title="Add attribute"
                            onclick="addRow('legendary_actions')">
                            +
                        </button>
                    </div>


                    <div class="addRow_legendary_actions">
                        <div class="row legendary_action_row">
                            <div class="row spread_children">
                                <div class="column" style="flex:2">
                                    <input type="text" class="legendaryjsonAttribute brown" value="Name" readonly
                                        tabindex="-1" style="width:6em;">
                                    <input type="text" class="legendaryjsonValue action_name" value="">
                                </div>

                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr legendaryjsonAttribute"
                                        tabindex="-1">Attack bonus</label>
                                    <input type="number" class="legendaryjsonValue action_attack_bonus">
                                </div>
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr legendaryjsonAttribute"
                                        tabindex="-1">Damage dice</label>
                                    <input type="text" class="legendaryjsonValue action_damage_dice">
                                </div>
                                <div class="column" style="flex:1">
                                    <label class="attr readonly_monster_attr legendaryjsonAttribute"
                                        tabindex="-1">Damage bonus</label>
                                    <input type="number" class="legendaryjsonValue action_damage_bonus">
                                </div>
                            </div>


                            <div class="column" style="flex:2">
                                <label class="attr readonly_monster_attr legendaryjsonAttribute" tabindex="-1"
                                    style="text-align:left">Description</label>
                                <textarea class="legendaryjsonValue action_description"> </textarea>
                            </div>
                        </div>


                    </div>






                    <button class="small interactive floating help_icon"
                        onclick="showBlock('markdowninfomonsters')">?</button>
                    <div class="infobox hidden" id="markdowninfomonsters">
                        <p>Use this form to save your homebrew monsters or NPCs. After you have saved the entry it will
                            be
                            available via
                            standard search, and will be loadable into combat.</p>
                        <p>Only fields with both a value and attribute filled out, e.g. [Speed] [30ft], will be saved.
                            Leave the
                            value field
                            blank if you do not wish to save it. </p>
                        <p>
                            <strong>The database cannot support multiple entries with the same name.</strong>
                        </p>
                        <p>You can use Markdown to style your entries. For example, a spell list for an NPC can be made
                            with a
                            markdown
                            list:
                            <br> * 1st level
                            <br> * 2nd level
                            <br> will render as
                        <ul>
                            <li>1st level </li>
                            <li>Second level </li>
                        </ul>
                        Emphasis can be added with ** A very important thingy **, which will render as
                        <strong>A very important thingy</strong>
                        </p>
                        <p>Google Markdown syntax for more information on styling with Markdown.</p>
                        <button class="floating" onclick="hide('markdowninfomonsters')">x</button>

                    </div>
                    <div class="float_right_group">

                        <button class="button button_style brown"
                            onclick="return doneAdding('addmonsters')">Close</button>
                        <button class="button button_style brown save_button" disabled
                            onclick="return saveHomebrew(true)">Save</button>
                    </div>
                </div>
    </div>

    </section>
    <section id="iframeWrapper" class="settingsDataWrapper hidden marginTop">

        <h1></h1>
        <section id="statblock" class="pageframe pageframe_wrap">

        </section>
    </section>

    <div id="spell_popup" class="spell_popup_window semi_hidden">
        <h2 class="center" id="spell_popup_name">
            </h4>
            <h4 id="spell_popup_ritual"></h4>
            <div class="row_wrap spell_attribute_row">
                <div class="column">
                    <strong>School</strong>
                    <p id="spell_popup_school"></p>
                </div>
                <div class="column">
                    <strong>Level</strong>
                    <p id="spell_popup_level"></p>
                </div>
                <div class="column">
                    <strong>Range</strong>
                    <p id="spell_popup_range"></p>
                </div>

            </div>
            <div class="row_wrap spell_attribute_row">

                <div class="column">
                    <strong>Casting time</strong>
                    <p id="spell_popup_casting_time"></p>
                </div>
                <div class="column">
                    <strong>Duration</strong>
                    <p id="spell_popup_duration"></p>
                </div>
                <div class="column">
                    <strong>Components</strong>
                    <p id="spell_popup_components"></p>
                </div>
            </div>
            <span></span>
            <p id="spell_popup_description"></p>
            <p id="spell_popup_higher_levels"></p>
    </div>


    </div>








    </main>
    </div>
</body>


<script>
    window.$ = window.jQuery = require("./js/jquery/3.2.1/jquery.min.js");
</script>

<script src="js/constants.js"></script>

<script src="awesomplete/awesomplete.js"></script>
<script src="chosen/chosen.jquery.js"></script>
<script src="js/diceroller.js"></script>
<script src="js/encounterModule.js"></script>
<script src="js/database.js"></script>
<script src="js/guicontrol.js"></script>
<script src="js/crawler.js"></script>
<script src='mappingTool/spectrum.js'></script>


</html>